---
sidebar_position: 1
---

# Опции

Приложение, реализованное с помощью Chorda, это одна большая конфигурация, состоящая из набора опций

### Базовые опции

Опции [скоупа](scope)

*    **injections** инжекторы скоупа
*    **joints** точки подключения
*    **initials** инициализаторы скоупа (инжекторы значений по умолчанию)
*    **reactions** реакции компонента
*    **events** слушатели скоупа

Опции [структуры](structure)

*    **weight** вес компонента
*    **items** набор индексированных компонентов (Array)
*    **defaultItem** базовая конфигурация индексированного компонента
*    **components** набор именованных компонентов (Object)
*    **defaultComponent** базовая конфигурация именованного компонента
*    **templates** набор шаблонов именованных компонентов

Опции [отрисовки](render)

*    **dom** свойства виртуального DOM
*    **tag** html тэг
*    **text** тектовое содержимое
*    **html** html содержимое в виде строки
*    **classes** набор CSS классов
*    **css** CSS класс ("сахар" для classes)
*    **styles** набор CSS стилей

Опции корректировки стандартного поведения

*    **itemFactory** фабрика индексированных компонентов
*    **componentFactory** фабрика именованных компонентов
*    **childFilter** фильтр дочерних компонентов
*    **childSorter** сортировщик дочерних компонентов
*    **layout** компоновка
*    **render** флаг отрисовки



### Конфигурация

Конфигурация представляет собой простой типизированный Object

```javascript
const options = {
    items: [
        tag: 'button',
    }, {
        tag: 'a',
    }]
}
```

:::caution
Если вы зададите лишние опции, то они будут проигнорированы
:::

Конфигурации компонентов можно вынести в отдельные файлы

```javascript
// Button.js
export default () => {
    return {
        tag: 'button'
    }
}

// Link.js
export default () => {
    return {
        tag: 'a'
    }
}

// App.js
import Link from "./Link"
import Button from "./Button"

const App = () => {
    return {
        items: [
            Button, 
            Link,
        ]
    }
}

const app = new Html(App())
```

:::tip
Важная особенность декларативности - дробление на компоненты не является необходимостью, оно лишь улучшает читаемость и упрощает переиспользование кода
:::


### Смесь конфигураций

Chorda предлагает модификацию конфигураций через смешивание

В состав смеси могут входить:
- `HtmlOptions` - структурированный набор опций
- `boolean` - значение false отменяет предыдущие конфигурации в смеси, true игнорируется
- `Function` - возвращает смешанную конфигурацию
- `Promise` - отложенная смешанная конфигурация

Поскольку компоненты в качестве конфигурации принимают только `HtmlOptions`, это означает, что необходима предварительная сборка/объединение смеси


```javascript
const mixedOptions = mixin({name: 'myComponent'}, MyComponent, 'Hello')
```

Слияние происходит по правилам, которые определены в классе компонента, в нашем случае это класс `Html`. Именно его экземпляры и будут составлять дерево компонентов

