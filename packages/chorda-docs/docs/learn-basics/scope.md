---
sidebar_position: 3
---

# Скоуп и контекст

Архитектура Chorda исходит из того, что отображение определяется состоянием, которое в свою очередь описывается переменными скоупа. Это означает, что для внесения изменений достаточно доступа к скоупу. 

:::tip
Если сравнивать с React, то скоуп можно понимать как локальный *store*
:::

:::tip
В Chorda отсутствует понятие **контекста** как глобального набора данных, доступного всем компонентам. Под **контекстом** всегда понимается исключительно родительский скоуп
:::

### Инициализация переменных

Новые переменные скоупа добавляем в блоке `initials`.

```javascript

export default () => {
    return {
        initials: {
            // создаем реактивную переменную скоупа
            text: () => observable(''),
            // в скоуп можно положить и не реактивное значение
            name: () => 'MyComponent',
        },
    }
}
```

В первую очередь `initials` предназначен для определения "локального" скоупа компонента

### Инъекция переменных

Использование инъекции не отличается от инициализации, но при инъекции нам доступен скоуп

```javascript

export default () => {
    return {
        injections: {
            cn: (scope) => scope.data,  // достаем переменную data из скоупа
        },
    }
}
```

Инъекции предназначены для связывания скоупа компонента с родительским скоупом

### Реактивность компонентов

Подписку на изменения наблюдаемой переменной можно выполнить с помощью блока `reactions`

```javascript
export default () => {
    return {
        reactions: {
            // реакция компонента на изменение переменной скоупа
            data: v => ({text: v})
        }
    }
}

```

:::caution
Новое значение, которое приходит в реакцию, имеет терминальный статус
:::







Принципиальное отличие блоков `initials` от `injections` состоит в том, что второй принимает в качестве аргумента скоуп компонента из которого можно брать переменные для инжектирования



Передача скоупа

Контекст

